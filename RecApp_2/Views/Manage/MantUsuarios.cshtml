@model IEnumerable<RecApp_2.Models.ApplicationUser>

@{
    ViewBag.Title = "Especialidades Odontológicas | Usuarios";
    //Layout = "~/Views/_ViewStart.cshtml";
}

<div id='myModal' class='modal fade in'>
    <div class="modal-dialog">
        <div class="modal-content">
            <div id='myModalContent'></div>
        </div>
    </div>
</div>

<br />
<div class="panel panel-primary">
    <div class="panel-heading"><h3>Mantenimiento de Usuarios</h3></div>

    <div class="panel-body ">
        @if (TempData["UserMessage"] != null)
        {
            <div class="alert alert-success">
                <strong>@TempData["UserMessage"].ToString()</strong>
            </div>
        }
        <p>
            <a class="btn btn-success glyphicon-plus" href='@Url.Action("Register", "Account")'>
                Nuevo usuario
            </a>
            <br />
            <div class="table-responsive">
                <table class="table table-responsive table-bordered">
                    <tr>
                        <th>
                            Email
                        </th>
                        <th>
                            Nombre de usuario
                        </th>
                        @*<th>
                                Correo confirmado
                            </th>*@
                        @*<th>
                                Número de teléfono
                            </th>

                            <th>
                                Accesos fallidos
                            </th>*@

                        <th>Acciones</th>
                    </tr>

                    @foreach (var item in Model)
            {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.Email)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.UserName)
                            </td>
                            @*<td>
                                    @Html.DisplayFor(modelItem => item.EmailConfirmed)
                                </td>

                                <td>
                                    @Html.DisplayFor(modelItem => item.PhoneNumber)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.AccessFailedCount)
                                </td>*@

                            <td>
                                @*@Html.ActionLink("Edit", "EditUser", new { id = item.Id })*@
                                @Html.ActionLink("Editar ", "EditUser", new { id = item.Id }, new { @class = "btn btn-warning glyphicon glyphicon-edit" })
                                @if (item.LockoutEnabled)
                                {
                                    @Html.ActionLink("Activar ", "DisableUser", new { id = item.Id }, new { @class = "btn btn-success glyphicon glyphicon-plus" })
                                }
                                else
                                {
                                    @Html.ActionLink("Inactivar ", "DisableUser", new { id = item.Id }, new { @class = "btn btn-danger glyphicon glyphicon-ban-circle" })
                                }
                               
                                @Html.ActionLink("Detalles ", "Details", new { id = item.Id }, new { @class = "btn btn-primary glyphicon glyphicon-th-list" })
                            </td>
                        </tr>
                    }

                </table>

            </div>
            <a href="@Url.Action("Index","Home")" class="btn btn-primary"> <h5>Volver al inicio</h5></a>
    </div>
 

</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/modalform")
}